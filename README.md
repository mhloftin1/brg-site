# Bowie Research Group — Website

Static site with markdown-powered blog, GitHub Pages hosting, and Decap CMS for visual editing.

## Architecture

```
brg-repo/
├── index.html          ← Home page
├── work.html           ← Blog feed (auto-generated by build)
├── workshops.html      ← Workshops page
├── contact.html        ← Contact page
├── styles.css          ← Shared stylesheet
├── build.js            ← Converts markdown → HTML
├── package.json        ← Node dependencies
├── posts/              ← Blog posts as markdown (source of truth)
│   ├── 2026-02-operation-ran-on-memory.md
│   ├── 2026-02-ai-without-the-hype.md
│   └── 2026-02-building-for-handoff.md
├── work/               ← Generated individual post pages (don't edit by hand)
├── admin/              ← Decap CMS editor interface
│   ├── index.html
│   └── config.yml
└── .github/workflows/
    └── deploy.yml      ← Auto-build + deploy on push
```

## Quick Start

### 1. Create the GitHub repo

```bash
# Create new repo on GitHub named e.g. "brg-site"
# Then locally:
cd brg-repo
git init
git add .
git commit -m "Initial site"
git remote add origin git@github.com:YOUR_USERNAME/brg-site.git
git push -u origin main
```

### 2. Enable GitHub Pages

1. Go to repo → **Settings** → **Pages**
2. Under "Build and deployment", set Source to **GitHub Actions**
3. The workflow will run automatically on the next push

### 3. Custom domain (bowierg.com)

1. In repo Settings → Pages, enter `bowierg.com` as custom domain
2. Add these DNS records at your domain registrar:

   | Type  | Name | Value                        |
   |-------|------|------------------------------|
   | A     | @    | 185.199.108.153              |
   | A     | @    | 185.199.109.153              |
   | A     | @    | 185.199.110.153              |
   | A     | @    | 185.199.111.153              |
   | CNAME | www  | YOUR_USERNAME.github.io      |

3. Check "Enforce HTTPS" in Pages settings
4. Create a `CNAME` file in repo root containing: `bowierg.com`

### 4. Set up Decap CMS (visual editor)

Decap needs an OAuth backend to authenticate with GitHub. Two options:

**Option A: Netlify OAuth (easiest, even without hosting on Netlify)**
1. Create free Netlify account
2. Go to Netlify → Site settings → Identity → Enable Identity
3. Under Registration, set to Invite Only
4. Under Services → Git Gateway, enable it
5. Update `admin/config.yml`:
   ```yaml
   backend:
     name: git-gateway
     branch: main
   ```

**Option B: GitHub OAuth App (no Netlify dependency)**
1. Go to GitHub → Settings → Developer settings → OAuth Apps → New
2. Set Authorization callback URL to `https://bowierg.com/admin/`
3. You'll need a small OAuth proxy server (e.g. [netlify-cms-oauth-provider-node](https://github.com/vencax/netlify-cms-oauth-provider-node)) running somewhere
4. Update `admin/config.yml` with your `base_url`

**After setup:** Visit `https://bowierg.com/admin/` to write and publish posts.

## Publishing a New Post

### Via Decap CMS (visual)
1. Go to `bowierg.com/admin/`
2. Click "Work Posts" → "New Work Post"
3. Fill in title, slug, date, tags, summary, and body
4. Click Publish → GitHub Actions builds and deploys automatically

### Via markdown (manual)
1. Create a new `.md` file in `/posts/`:
   ```
   ---
   title: "Your Post Title"
   slug: 2026-03-your-post-title
   date: 2026-03-15
   tags:
     - Category
     - Another Tag
   summary: "One or two sentences for the feed preview."
   ---

   Your post content in markdown here.

   ## Subheading

   More content.
   ```
2. Commit and push — GitHub Actions handles the rest

### Locally
```bash
npm install        # first time only
npm run build      # generates /work/ pages and updates work.html
```

## How the Build Works

`build.js` does two things on every run:

1. **Reads** all `.md` files in `/posts/`, parses frontmatter + markdown
2. **Generates**:
   - `/work/{slug}.html` — individual post page with nav, styling, back link
   - `/work.html` — reverse-chronological feed with summaries + links

The GitHub Actions workflow runs `npm run build` on every push to `main`, then deploys the entire repo as a static site.

## What's Not Built Yet

- **Contact form backend** — currently shows an alert on submit. Needs Formspree, ConvertKit, or Google Forms integration.
- **Email subscribe** — hero bar and workshop waitlist are UI-only. Need email service hookup.
- **Scheduling** — workshop sessions link to contact page. Later: embed Calendly or similar.
- **Images** — photo placeholder in About section. Add image to repo and update `index.html`.
